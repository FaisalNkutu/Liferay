<?xml version="1.0" encoding="UTF-8"?>

<resource-action-mapping>

  <portlet-resource>
    <portlet-name>management-class</portlet-name>
    <portlet-name>student-public</portlet-name>
    <portlet-name>subject-admin</portlet-name>
    <portlet-name>teacher-admin</portlet-name>
    <permissions>
      <supports>
        <action-key>ADD_CLASS</action-key>
        <action-key>ADD_STUDENT</action-key>
        <action-key>VIEW</action-key>
      </supports>
      <community-defaults>
        <action-key>VIEW</action-key>
      </community-defaults>
      <guest-defaults>
        <action-key>VIEW</action-key>
      </guest-defaults>

      <guest-unsupported>
        <action-key>ADD_CLASS</action-key>
      </guest-unsupported>
    </permissions>
  </portlet-resource>

  <model-resource>
    <model-name>
      org.tvd.thptty.model.TYClass
    </model-name>
    <portlet-ref>
      <portlet-name>management-class</portlet-name>
    </portlet-ref>
    <permissions>
      <supports>
      	<action-key>ADD_CLASS</action-key>
      	<action-key>TYPE_POINT</action-key>
        <action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
        <action-key>UPDATE</action-key>
        <action-key>VIEW</action-key>
      </supports>
      <community-defaults>
        <action-key>VIEW</action-key>
      </community-defaults>
      <guest-defaults>
        <action-key>VIEW</action-key>
      </guest-defaults>
      <guest-unsupported>
       	<action-key>ADD_CLASS</action-key>
        <action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
        <action-key>UPDATE</action-key>
      </guest-unsupported>
    </permissions>
  </model-resource>

  <model-resource>
    <model-name>
      org.tvd.thptty.model.TYStudent
    </model-name>
    <portlet-ref>
      <portlet-name>student-public</portlet-name>
    </portlet-ref>
    <permissions>
      <supports>
      	<action-key>ADD_STUDENT</action-key>
        <action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
        <action-key>UPDATE</action-key>
        <action-key>VIEW</action-key>
      </supports>
      <community-defaults>
        <action-key>VIEW</action-key>
      </community-defaults>
      <guest-defaults>
        <action-key>VIEW</action-key>
      </guest-defaults>
      <guest-unsupported>
      	<action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
      	<action-key>ADD_STUDENT</action-key>
        <action-key>UPDATE</action-key>
      </guest-unsupported>
    </permissions>
  </model-resource>

  <model-resource>
    <model-name>
      org.tvd.thptty.model.TYSubject
    </model-name>
    <portlet-ref>
      <portlet-name>subject-admin</portlet-name>
    </portlet-ref>
    <permissions>
      <supports>
      	<action-key>ADD_SUBJECT</action-key>
        <action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
        <action-key>UPDATE</action-key>
        <action-key>VIEW</action-key>
      </supports>
      <community-defaults>
        <action-key>VIEW</action-key>
      </community-defaults>
      <guest-defaults>
        <action-key>VIEW</action-key>
      </guest-defaults>
      <guest-unsupported>
      	<action-key>ADD_SUBJECT</action-key>
        <action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
        <action-key>UPDATE</action-key>
      </guest-unsupported>
    </permissions>
  </model-resource>
  
   <model-resource>
    <model-name>
      org.tvd.thptty.model.TYTeacher
    </model-name>
    <portlet-ref>
      <portlet-name>teacher-admin</portlet-name>
    </portlet-ref>
    <permissions>
      <supports>
      	<action-key>UPDATE_TIME</action-key>
      	<action-key>TYPE_POINT</action-key>
      	<action-key>TYPE_CONDUCT</action-key>
        <action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
        <action-key>UPDATE</action-key>
        <action-key>VIEW</action-key>
      </supports>
      <community-defaults>
        <action-key>VIEW</action-key>
      </community-defaults>
      <guest-defaults>
        <action-key>VIEW</action-key>
      </guest-defaults>
      <guest-unsupported>
        <action-key>TYPE_POINT</action-key>
      	<action-key>TYPE_CONDUCT</action-key>
        <action-key>DELETE</action-key>
        <action-key>PERMISSIONS</action-key>
        <action-key>UPDATE</action-key>
        <action-key>UPDATE_TIME</action-key>
      </guest-unsupported>
    </permissions>
  </model-resource>
  
  <model-resource>
  	<model-name>
  		org.tvd.thptty.model.TYMessages
  	</model-name>
  	<portlet-ref>teacher-admin</portlet-ref>
  	<permissions>
  		<supports>
  			<action-key>DELETE</action-key>
        	<action-key>PERMISSIONS</action-key>
        	<action-key>VIEW</action-key>
  		</supports>
  		<community-defaults>
  			<action-key>VIEW</action-key>
  		</community-defaults>
  		<guest-defaults>
  			<action-key>VIEW</action-key>
  		</guest-defaults>
  		<guest-unsupported>
  			<action-key>DELETE</action-key>
        	<action-key>PERMISSIONS</action-key>
  		</guest-unsupported>
  	</permissions>
  </model-resource>
  
</resource-action-mapping>